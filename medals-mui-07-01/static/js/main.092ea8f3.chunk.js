(this["webpackJsonpmedals-a-react"]=this["webpackJsonpmedals-a-react"]||[]).push([[0],{120:function(e,n,t){},121:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(10),i=t.n(c),o=(t(94),t(80)),s=t(19),d=t.n(s),l=t(39),u=t(38),m=t(40),p=t.n(m),j=t(179),f=t(164),b=t(76),x=t.n(b),h=t(77),g=t.n(h),O=t(160),y=t(6),v=Object(O.a)({countryMedal:{marginTop:"10px",display:"flex",alignItems:"center"},medalAvatar:{color:"black"},medalName:{fontSize:"1.4em",paddingLeft:"10px",width:"130px",textTransform:"capitalize"},iconButton:{padding:"2px"}}),C=function(e){var n=v(),t=e.medal,a=e.country,r=e.onIncrement,c=e.onDecrement;return Object(y.jsxs)("div",{className:n.countryMedal,children:[Object(y.jsx)(j.a,{style:{backgroundColor:t.RGBColor},className:n.medalAvatar,children:a[t.name]}),Object(y.jsxs)("span",{className:n.medalName,children:[t.name," Medals"]}),Object(y.jsx)(f.a,{onClick:function(){return r(a.id,t.name)},className:n.iconButton,color:"primary","aria-label":"increment gold",children:Object(y.jsx)(x.a,{fontSize:"large"})}),Object(y.jsx)(f.a,{disabled:0===a[t.name],onClick:function(){return c(a.id,t.name)},className:n.iconButton,color:"secondary","aria-label":"decrement gold",children:Object(y.jsx)(g.a,{fontSize:"large"})})]})},B=t(165),N=t(168),k=t(167),w=t(166),S=t(78),T=t.n(S),z=Object(O.a)({country:{marginLeft:"auto",marginRight:"auto",marginTop:10,padding:18,width:260},divider:{marginTop:5,marginBottom:10},countryName:{fontSize:"1.8em",paddingRight:"8px"}}),F=function(e){var n=e.country,t=e.medals,a=e.onIncrement,r=e.onDecrement,c=e.onDelete,i=z();return Object(y.jsxs)(B.a,{elevation:4,className:i.country,children:[Object(y.jsxs)(w.a,{container:!0,spacing:0,children:[Object(y.jsx)(w.a,{item:!0,xs:10,children:Object(y.jsx)(k.a,{badgeContent:function(e,n){var t=0;return n.forEach((function(n){t+=e[n.name]})),t}(n,t),color:"primary",children:Object(y.jsx)("div",{className:i.countryName,children:n.name})})}),Object(y.jsx)(w.a,{item:!0,xs:2,children:Object(y.jsx)(f.a,{"aria-label":"delete",onClick:function(){return c(n.id)},style:{padding:6},children:Object(y.jsx)(T.a,{fontSize:"medium"})})})]}),Object(y.jsx)(N.a,{className:i.divider}),t.map((function(e){return Object(y.jsx)(C,{country:n,medal:e,onIncrement:a,onDecrement:r},e.id)}))]})},I=t(169),A=t(79),D=t.n(A),R=t(174),H=t(176),M=t(178),E=t(173),G=t(171),L=t(172),J=t(170),P=Object(O.a)({fab:{position:"fixed",bottom:"1em",right:"1em"}}),W=function(e){var n=P(),t=Object(a.useState)(!1),c=Object(u.a)(t,2),i=c[0],o=c[1],s=Object(a.useState)(""),d=Object(u.a)(s,2),l=d[0],m=d[1],p=e.onAdd,j=function(){return o(!1)};return Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)(I.a,{onClick:function(){o(!0),m("")},className:n.fab,size:"medium",color:"primary","aria-label":"add",children:Object(y.jsx)(D.a,{})}),Object(y.jsx)(M.a,{open:i,onClose:j,"aria-labelledby":"form-dialog-title",children:Object(y.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),p(l),o(!1)}(e)},children:[Object(y.jsx)(J.a,{id:"form-dialog-title",children:"Add Country"}),Object(y.jsxs)(G.a,{children:[Object(y.jsx)(L.a,{children:"To add a new country, enter the name"}),Object(y.jsx)(H.a,{onChange:function(e){return m(e.target.value)},autoFocus:!0,margin:"dense",id:"name",name:"name",value:l,label:"Country Name",type:"text",fullWidth:!0,autoComplete:"off",autoCapitalize:"off"})]}),Object(y.jsxs)(E.a,{children:[Object(y.jsx)(R.a,{onClick:j,color:"secondary",children:"Cancel"}),Object(y.jsx)(R.a,{disabled:0===l.trim().length,type:"submit",color:"primary",children:"Save"})]})]})})]})},q=t(175),K=(t(120),Object(O.a)({appHeading:{textAlign:"center",margin:0,backgroundColor:"#BBBBF1",position:"fixed",width:"100%",paddingTop:"15px",paddingBottom:"4px",zIndex:"1000",opacity:".95"},appHeadingBadge:{fontSize:"2.0em",fontFamily:"Teko, sans-serif"},appHeadingText:{paddingRight:"8px"}})),Q=function(){var e="https://medalsapi.azurewebsites.net/api/country",n=Object(a.useState)([]),t=Object(u.a)(n,2),c=t[0],i=t[1],s=Object(a.useRef)([{id:1,name:"gold",RGBColor:"#ffc107"},{id:2,name:"silver",RGBColor:"#c4cacc"},{id:3,name:"bronze",RGBColor:"#cd7f32"}]),m=K();Object(a.useEffect)((function(){function n(){return(n=Object(l.a)(d.a.mark((function n(){var t,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.get(e);case 2:t=n.sent,a=t.data,i(a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var j=function(){var n=Object(l.a)(d.a.mark((function n(t){var a,r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.post(e,{name:t});case 2:a=n.sent,r=a.data,i(c.concat(r));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=Object(l.a)(d.a.mark((function n(t){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=c,i(c.filter((function(e){return e.id!==t}))),n.prev=2,n.next=5,p.a.delete("".concat(e,"/").concat(t));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),n.t0.response&&404===n.t0.response.status?console.log("The record does not exist - it may have already been deleted"):(alert("An error occurred while deleting"),i(a));case 10:case"end":return n.stop()}}),n,null,[[2,7]])})));return function(e){return n.apply(this,arguments)}}(),b=function(e,n){return h(e,n,1)},x=function(e,n){return h(e,n,-1)},h=function(){var n=Object(l.a)(d.a.mark((function n(t,a,r){var s,l,u,m;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=c,l=c.findIndex((function(e){return e.id===t})),(u=Object(o.a)(c))[l][a]+=1*r,i(u),m=[{op:"replace",path:a,value:u[l][a]}],console.log("json patch for id: ".concat(t,": ").concat(JSON.stringify(m))),n.prev=7,n.next=10,p.a.patch("".concat(e,"/").concat(t),m);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(7),n.t0.response&&404===n.t0.response.status?console.log("The record does not exist - it may have already been deleted"):(alert("An error occurred while updating"),i(s));case 15:case"end":return n.stop()}}),n,null,[[7,12]])})));return function(e,t,a){return n.apply(this,arguments)}}();return Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)("div",{className:m.appHeading,children:Object(y.jsx)(k.a,{className:m.appHeadingBadge,badgeContent:function(){var e=0;return s.current.forEach((function(n){e+=c.reduce((function(e,t){return e+t[n.name]}),0)})),e}(),color:"primary",children:Object(y.jsx)("div",{className:m.appHeadingText,children:"Olympic Medals"})})}),Object(y.jsxs)(q.a,{fixed:!0,style:{paddingTop:"70px",paddingBottom:"20px"},children:[Object(y.jsx)(W,{onAdd:j}),Object(y.jsx)(w.a,{spacing:2,justifyContent:"center",container:!0,children:c.map((function(e){return Object(y.jsx)(w.a,{item:!0,children:Object(y.jsx)(F,{country:e,medals:s.current,onDelete:f,onIncrement:b,onDecrement:x})},e.id)}))})]})]})},U=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,181)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(Q,{})}),document.getElementById("root")),U()},94:function(e,n,t){}},[[121,1,2]]]);
//# sourceMappingURL=main.092ea8f3.chunk.js.map