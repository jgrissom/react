(this["webpackJsonpmedals-a-react"]=this["webpackJsonpmedals-a-react"]||[]).push([[0],{120:function(e,n,t){},121:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(10),i=t.n(c),o=(t(95),t(44)),s=t(19),d=t.n(s),l=t(42),u=t(38),m=t(43),j=t.n(m),f=t(179),p=t(164),b=t(76),x=t.n(b),h=t(77),O=t.n(h),g=t(160),v=t(5),y=Object(g.a)({countryMedal:{marginTop:"10px",display:"flex",alignItems:"center"},medalAvatar:{color:"black"},medalName:{fontSize:"1.4em",paddingLeft:"10px",width:"130px",textTransform:"capitalize"},iconButton:{padding:"2px"},delta:{fontStyle:"italic",opacity:".7"}}),C=function(e){var n=y(),t=e.medal,a=e.country,r=e.onIncrement,c=e.onDecrement;return Object(v.jsxs)("div",{className:n.countryMedal,children:[Object(v.jsx)(f.a,{style:{backgroundColor:t.RGBColor},className:n.medalAvatar,children:a[t.name].current}),a[t.name].current!==a[t.name].saved?Object(v.jsxs)("span",{className:"".concat(n.medalName," ").concat(n.delta),children:[t.name," Medals"]}):Object(v.jsxs)("span",{className:n.medalName,children:[t.name," Medals"]}),Object(v.jsx)(p.a,{onClick:function(){return r(a.id,t.name)},className:n.iconButton,color:"primary","aria-label":"increment gold",children:Object(v.jsx)(x.a,{fontSize:"large"})}),Object(v.jsx)(p.a,{disabled:0===a[t.name].current,onClick:function(){return c(a.id,t.name)},className:n.iconButton,color:"secondary","aria-label":"decrement gold",children:Object(v.jsx)(O.a,{fontSize:"large"})})]})},N=t(165),k=t(168),B=t(167),S=t(166),w=t(80),z=t.n(w),T=t(78),I=t.n(T),E=t(79),F=t.n(E),A=Object(g.a)({country:{marginLeft:"auto",marginRight:"auto",marginTop:10,padding:18,width:260},divider:{marginTop:5,marginBottom:10},countryName:{fontSize:"1.8em",paddingRight:"8px"}}),R=function(e){var n=e.country,t=e.medals,a=e.onIncrement,c=e.onDecrement,i=e.onDelete,o=e.onUpdate,s=e.onReset,d=A();return Object(v.jsxs)(N.a,{elevation:4,className:d.country,children:[Object(v.jsxs)(S.a,{container:!0,spacing:0,children:[Object(v.jsx)(S.a,{item:!0,xs:8,children:Object(v.jsx)(B.a,{badgeContent:function(e,n){var t=0;return n.forEach((function(n){t+=e[n.name].current})),t}(n,t),color:"primary",children:Object(v.jsx)("div",{className:d.countryName,children:n.name})})}),Object(v.jsx)(S.a,{style:{textAlign:"right"},item:!0,xs:4,children:function(){var e=!1;return t.forEach((function(t){n[t.name].current!==n[t.name].saved&&(e=!0)})),e}()?Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)(p.a,{"aria-label":"save",onClick:function(){return o(n.id)},style:{padding:6},children:Object(v.jsx)(I.a,{fontSize:"medium",color:"primary"})}),Object(v.jsx)(p.a,{"aria-label":"undo",onClick:function(){return s(n.id)},style:{padding:6},children:Object(v.jsx)(F.a,{fontSize:"medium",color:"secondary"})})]}):Object(v.jsx)(p.a,{"aria-label":"delete",onClick:function(){return i(n.id)},style:{padding:6},children:Object(v.jsx)(z.a,{fontSize:"medium"})})})]}),Object(v.jsx)(k.a,{className:d.divider}),t.map((function(e){return Object(v.jsx)(C,{country:n,medal:e,onIncrement:a,onDecrement:c},e.id)}))]})},D=t(169),H=t(81),M=t.n(H),G=t(174),L=t(176),J=t(178),P=t(173),U=t(171),W=t(172),q=t(170),K=Object(g.a)({fab:{position:"fixed",bottom:"1em",right:"1em"}}),Q=function(e){var n=K(),t=Object(a.useState)(!1),c=Object(u.a)(t,2),i=c[0],o=c[1],s=Object(a.useState)(""),d=Object(u.a)(s,2),l=d[0],m=d[1],j=e.onAdd,f=function(){return o(!1)};return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)(D.a,{onClick:function(){o(!0),m("")},className:n.fab,size:"medium",color:"primary","aria-label":"add",children:Object(v.jsx)(M.a,{})}),Object(v.jsx)(J.a,{open:i,onClose:f,"aria-labelledby":"form-dialog-title",children:Object(v.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),j(l),o(!1)}(e)},children:[Object(v.jsx)(q.a,{id:"form-dialog-title",children:"Add Country"}),Object(v.jsxs)(U.a,{children:[Object(v.jsx)(W.a,{children:"To add a new country, enter the name"}),Object(v.jsx)(L.a,{onChange:function(e){return m(e.target.value)},autoFocus:!0,margin:"dense",id:"name",name:"name",value:l,label:"Country Name",type:"text",fullWidth:!0,autoComplete:"off",autoCapitalize:"off"})]}),Object(v.jsxs)(P.a,{children:[Object(v.jsx)(G.a,{onClick:f,color:"secondary",children:"Cancel"}),Object(v.jsx)(G.a,{disabled:0===l.trim().length,type:"submit",color:"primary",children:"Save"})]})]})})]})},V=t(175),X=(t(120),Object(g.a)({appHeading:{textAlign:"center",margin:0,backgroundColor:"#BBBBF1",position:"fixed",width:"100%",paddingTop:"15px",paddingBottom:"4px",zIndex:"1000",opacity:".95"},appHeadingBadge:{fontSize:"2.0em",fontFamily:"Teko, sans-serif"},appHeadingText:{paddingRight:"8px"}})),Y=function(){var e="https://medalsapi.azurewebsites.net/api/country",n=Object(a.useState)([]),t=Object(u.a)(n,2),c=t[0],i=t[1],s=Object(a.useState)([]),m=Object(u.a)(s,2),f=m[0],p=m[1],b=X();Object(a.useEffect)((function(){var n=[{id:1,name:"gold",RGBColor:"#ffc107"},{id:2,name:"silver",RGBColor:"#c4cacc"},{id:3,name:"bronze",RGBColor:"#cd7f32"}];function t(){return(t=Object(l.a)(d.a.mark((function t(){var a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get(e);case 2:a=t.sent,r=a.data,c=[],r.forEach((function(e){var t={id:e.id,name:e.name};n.forEach((function(n){var a=e[n.name];t[n.name]={current:a,saved:a}})),c.push(t)})),i(c);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}p(n),function(){t.apply(this,arguments)}()}),[]);var x=function(){var n=Object(l.a)(d.a.mark((function n(t){var a,r,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.a.post(e,{name:t});case 2:a=n.sent,r=a.data,o={id:r.id,name:r.name},f.forEach((function(e){var n=r[e.name];o[e.name]={current:n,saved:n}})),i(c.concat(o));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=Object(l.a)(d.a.mark((function n(t){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=c,i(c.filter((function(e){return e.id!==t}))),n.prev=2,n.next=5,j.a.delete("".concat(e,"/").concat(t));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),n.t0.response&&404===n.t0.response.status?console.log("The record does not exist - it may have already been deleted"):(alert("An error occurred while deleting"),i(a));case 10:case"end":return n.stop()}}),n,null,[[2,7]])})));return function(e){return n.apply(this,arguments)}}(),O=function(){var n=Object(l.a)(d.a.mark((function n(t){var a,r,s,l,u;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=c,r=c.findIndex((function(e){return e.id===t})),s=Object(o.a)(c),l=s[r],u=[],f.forEach((function(e){l[e.name].current!==l[e.name].saved&&(u.push({op:"replace",path:e.name,value:l[e.name].current}),l[e.name].saved=l[e.name].current)})),console.log("json patch for id: ".concat(t,": ").concat(JSON.stringify(u))),i(s),n.prev=8,n.next=11,j.a.patch("".concat(e,"/").concat(t),u);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(8),n.t0.response&&404===n.t0.response.status?console.log("The record does not exist - it may have already been deleted"):(alert("An error occurred while updating"),i(a));case 16:case"end":return n.stop()}}),n,null,[[8,13]])})));return function(e){return n.apply(this,arguments)}}(),g=function(e){var n=c.findIndex((function(n){return n.id===e})),t=Object(o.a)(c),a=t[n];f.forEach((function(e){a[e.name].current=a[e.name].saved})),i(t)},y=function(e,n){var t=c.findIndex((function(n){return n.id===e})),a=Object(o.a)(c);a[t][n].current+=1,i(a)},C=function(e,n){var t=c.findIndex((function(n){return n.id===e})),a=Object(o.a)(c);a[t][n].current-=1,i(a)};return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)("div",{className:b.appHeading,children:Object(v.jsx)(B.a,{className:b.appHeadingBadge,badgeContent:function(){var e=0;return f.forEach((function(n){e+=c.reduce((function(e,t){return e+t[n.name].current}),0)})),e}(),color:"primary",children:Object(v.jsx)("div",{className:b.appHeadingText,children:"Olympic Medals"})})}),Object(v.jsxs)(V.a,{fixed:!0,style:{paddingTop:"70px",paddingBottom:"20px"},children:[Object(v.jsx)(Q,{onAdd:x}),Object(v.jsx)(S.a,{spacing:2,justifyContent:"center",container:!0,children:c.map((function(e){return Object(v.jsx)(S.a,{item:!0,children:Object(v.jsx)(R,{country:e,medals:f,onDelete:h,onUpdate:O,onReset:g,onIncrement:y,onDecrement:C})},e.id)}))})]})]})},Z=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,181)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(Y,{})}),document.getElementById("root")),Z()},95:function(e,n,t){}},[[121,1,2]]]);
//# sourceMappingURL=main.997c521d.chunk.js.map