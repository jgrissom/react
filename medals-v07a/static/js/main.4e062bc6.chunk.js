(this["webpackJsonpmedals-a-react"]=this["webpackJsonpmedals-a-react"]||[]).push([[0],{118:function(e,n,t){},119:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(10),i=t.n(r),o=(t(93),t(55)),d=t(27),s=t.n(d),l=t(50),u=t(35),m=t(163),j=t(166),p=t(165),f=t(164),b=t(161),x=t(78),h=t.n(x),g=t(162),O=t(177),y=t(76),v=t.n(y),C=t(77),B=t.n(C),N=t(4),k=t(6),w=Object(N.a)({countryMedal:{marginTop:"10px",display:"flex",alignItems:"center"},medalAvatar:{color:"black"},medalName:{fontSize:"1.4em",paddingLeft:"10px",width:"130px",textTransform:"capitalize"},iconButton:{padding:"2px"}},{withTheme:!0})((function(e){var n=e.medal,t=e.country,a=e.onIncrement,c=e.onDecrement,r=e.classes;return Object(k.jsxs)("div",{className:r.countryMedal,children:[Object(k.jsx)(O.a,{style:{backgroundColor:n.RGBColor},className:r.medalAvatar,children:t[n.name+"MedalCount"]}),Object(k.jsxs)("span",{className:r.medalName,children:[n.name," Medals"]}),Object(k.jsx)(b.a,{onClick:function(){return a(t.id,n.name)},className:r.iconButton,color:"primary","aria-label":"increment gold",children:Object(k.jsx)(v.a,{fontSize:"large"})}),Object(k.jsx)(b.a,{onClick:function(){return c(t.id,n.name)},className:r.iconButton,color:"secondary","aria-label":"decrement gold",children:Object(k.jsx)(B.a,{fontSize:"large"})})]})})),S=Object(g.a)({country:{marginLeft:"auto",marginRight:"auto",marginTop:10,padding:18,width:260},divider:{marginTop:5,marginBottom:10},countryName:{fontSize:"1.8em",paddingRight:"8px"}}),T=function(e){var n=S(),t=e.country,a=e.medals,c=e.onIncrement,r=e.onDecrement,i=e.onDelete;return Object(k.jsxs)(m.a,{elevation:4,className:n.country,children:[Object(k.jsxs)(f.a,{container:!0,spacing:0,children:[Object(k.jsx)(f.a,{item:!0,xs:10,children:Object(k.jsx)(p.a,{badgeContent:function(e,n){var t=0;return n.forEach((function(n){t+=e[n.name+"MedalCount"]})),t}(t,a),color:"primary",children:Object(k.jsx)("div",{className:n.countryName,children:t.name})})}),Object(k.jsx)(f.a,{item:!0,xs:2,children:Object(k.jsx)(b.a,{"aria-label":"delete",onClick:function(){return i(t.id)},style:{padding:6},children:Object(k.jsx)(h.a,{fontSize:"medium"})})})]}),Object(k.jsx)(j.a,{className:n.divider}),a.map((function(e){return Object(k.jsx)(w,{country:t,medal:e,onIncrement:c,onDecrement:r},e.id)}))]})},z=t(167),M=t(79),I=t.n(M),F=t(172),D=t(174),A=t(176),R=t(171),H=t(169),E=t(170),G=t(168),L=Object(g.a)({fab:{position:"fixed",bottom:"20px",right:"20px"}}),J=function(e){var n=L(),t=Object(a.useState)(!1),r=Object(u.a)(t,2),i=r[0],o=r[1],d=Object(a.useState)(""),s=Object(u.a)(d,2),l=s[0],m=s[1],j=e.onAdd,p=function(){return o(!1)};return Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(z.a,{onClick:function(){o(!0),m("")},className:n.fab,size:"medium",color:"primary","aria-label":"add",children:Object(k.jsx)(I.a,{})}),Object(k.jsx)(A.a,{open:i,onClose:p,"aria-labelledby":"form-dialog-title",children:Object(k.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),j(l),o(!1)}(e)},children:[Object(k.jsx)(G.a,{id:"form-dialog-title",children:"Add Country"}),Object(k.jsxs)(H.a,{children:[Object(k.jsx)(E.a,{children:"To add a new country, enter the name"}),Object(k.jsx)(D.a,{onChange:function(e){return m(e.target.value)},autoFocus:!0,margin:"dense",id:"name",name:"name",value:l,label:"Country Name",type:"text",fullWidth:!0,autoComplete:"off",autoCapitalize:"off"})]}),Object(k.jsxs)(R.a,{children:[Object(k.jsx)(F.a,{onClick:p,color:"secondary",children:"Cancel"}),Object(k.jsx)(F.a,{disabled:0===l.trim().length,type:"submit",color:"primary",children:"Save"})]})]})})]})},P=[{id:1,name:"gold",RGBColor:"#ffc107"},{id:2,name:"silver",RGBColor:"#c4cacc"},{id:3,name:"bronze",RGBColor:"#cd7f32"}];function W(){return P}var q=t(51),K=t.n(q),Q=t(173),U=(t(118),Object(g.a)({appHeading:{textAlign:"center",margin:0,backgroundColor:"#BBBBF1",position:"fixed",width:"100%",paddingTop:"15px",paddingBottom:"4px",zIndex:"1000",opacity:".95"},appHeadingBadge:{fontSize:"2.0em",fontFamily:"Teko, sans-serif"},appHeadingText:{paddingRight:"8px"}})),V=function(){var e=U(),n=Object(a.useState)([]),t=Object(u.a)(n,2),r=t[0],i=t[1],d=Object(a.useState)(W()),m=Object(u.a)(d,2),j=m[0],b=m[1],x="https://medalsapi.azurewebsites.net/api/country",h=function(){var e=Object(l.a)(s.a.mark((function e(n){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.post(x,{name:n});case 2:t=e.sent,a=t.data,i(r.concat(a));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r,i(r.filter((function(e){return e.id!==n}))),e.prev=2,e.next=5,K.a.delete("".concat(x,"/").concat(n));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),e.t0.response&&404===e.t0.response.status?console.log("The record does not exist - it may have already been deleted"):(alert("An error occurred while deleting"),i(t));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(n){return e.apply(this,arguments)}}(),O=function(e,n){var t=Object(o.a)(r),a=t.findIndex((function(n){return n.id===e}));t[a][n+"MedalCount"]+=1,i(t)},y=function(e,n){var t=Object(o.a)(r),a=t.findIndex((function(n){return n.id===e}));0!==t[a][n+"MedalCount"]&&(t[a][n+"MedalCount"]-=1,i(t))};return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(s.a.mark((function e(){var n,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get(x);case 2:n=e.sent,t=n.data,i(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b(W()),function(){e.apply(this,arguments)}()}),[]),Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)("div",{className:e.appHeading,children:Object(k.jsx)(p.a,{className:e.appHeadingBadge,badgeContent:function(){var e=0;return j.forEach((function(n){e+=function(e){return r.reduce((function(n,t){return n+t[e+"MedalCount"]}),0)}(n.name)})),e}(),color:"primary",children:Object(k.jsx)("div",{className:e.appHeadingText,children:"Olympic Medals"})})}),Object(k.jsxs)(Q.a,{fixed:!0,style:{paddingTop:"70px",paddingBottom:"20px"},children:[Object(k.jsx)(J,{onAdd:h}),Object(k.jsx)(f.a,{spacing:2,justifyContent:"center",container:!0,children:r.map((function(e){return Object(k.jsx)(f.a,{item:!0,children:Object(k.jsx)(T,{country:e,medals:j,onDelete:g,onIncrement:O,onDecrement:y})},e.id)}))})]})]})},X=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,179)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(V,{})}),document.getElementById("root")),X()},93:function(e,n,t){}},[[119,1,2]]]);
//# sourceMappingURL=main.4e062bc6.chunk.js.map