(this["webpackJsonpmedals-react-b"]=this["webpackJsonpmedals-react-b"]||[]).push([[0],{24:function(e,n,t){},45:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var r=t(2),c=t.n(r),a=t(19),o=t.n(a),i=(t(24),t(9)),s=t(3),u=t.n(s),d=t(6),l=t(10),m=[{id:1,name:"gold"},{id:2,name:"silver"},{id:3,name:"bronze"}];var f=t(0),j=function(e){var n=e.medal,t=e.country,r=e.onIncrement,c=e.onDecrement;return Object(f.jsxs)("div",{className:"medals",children:[n.name," Medals: ",t[n.name+"MedalCount"],Object(f.jsx)("button",{onClick:function(){return r(t.id,n.name)},children:"+"}),Object(f.jsx)("button",{onClick:function(){return c(t.id,n.name)},children:"-"})]})},b=function(e){var n=e.country,t=e.medals,r=e.onIncrement,c=e.onDecrement,a=e.onDelete;return Object(f.jsxs)("div",{className:"section",children:[Object(f.jsxs)("div",{className:"name",children:[n.name," - ",function(e,n){var t=0;return n.forEach((function(n){t+=e[n.name+"MedalCount"]})),t}(n,t)]}),t.map((function(e){return Object(f.jsx)(j,{country:n,medal:e,onIncrement:r,onDecrement:c},e.id)})),Object(f.jsx)("button",{onClick:function(){return a(n.id)},children:"delete"}),Object(f.jsx)("hr",{})]})},h=function(e){var n=e.onAdd;return Object(f.jsx)("button",{style:{marginBottom:"20px"},onClick:function(){var e=prompt("Enter country name");null!==e&&(e.trim().length>0?n(e):alert("Country name cannot be 0 length"))},children:"New Country"})},p=t(7),v=t.n(p),x=(t(45),function(){var e=Object(r.useState)([]),n=Object(l.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)([]),s=Object(l.a)(o,2),j=s[0],p=s[1],x="https://medalsapi.azurewebsites.net/api/country";Object(r.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(x);case 2:n=e.sent,t=n.data,a(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p(m),function(){e.apply(this,arguments)}()}),[]);var O=function(e,n){var r=Object(i.a)(t),c=r.findIndex((function(n){return n.id===e}));r[c][n+"MedalCount"]+=1,a(r)},y=function(e,n){var r=Object(i.a)(t),c=r.findIndex((function(n){return n.id===e}));0!==r[c][n+"MedalCount"]&&(r[c][n+"MedalCount"]-=1,a(r))},C=function(){var e=Object(d.a)(u.a.mark((function e(n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(x,{name:n});case 2:r=e.sent,c=r.data,a(t.concat(c));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,a(t.filter((function(e){return e.id!==n}))),e.prev=2,e.next=5,v.a.delete("".concat(x,"/").concat(n));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),e.t0.response&&404===e.t0.response.status?console.log("The record does not exist - it may have already been deleted"):(alert("An error occurred while deleting"),a(r));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(n){return e.apply(this,arguments)}}(),w=function(e){return t.reduce((function(n,t){return n+t[e+"MedalCount"]}),0)};return Object(f.jsxs)(c.a.Fragment,{children:[t.map((function(e){return Object(f.jsx)(b,{country:e,medals:j,onIncrement:O,onDecrement:y,onDelete:g},e.id)})),Object(f.jsxs)("div",{className:"section",children:[Object(f.jsxs)("div",{className:"name",children:["Total Medals Awarded - ",function(){var e=0;return j.forEach((function(n){e+=w(n.name)})),e}()]}),j.map((function(e){return Object(f.jsxs)("div",{className:"medals",children:["Total ",e.name," Awarded - ",w(e.name)]},e.id)}))]}),Object(f.jsxs)("div",{className:"section",children:[Object(f.jsx)("hr",{}),Object(f.jsx)(h,{onAdd:C})]})]})}),O=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,47)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(x,{})}),document.getElementById("root")),O()}},[[46,1,2]]]);
//# sourceMappingURL=main.ae3c0fa6.chunk.js.map